local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()

-- نضمن وجود HumanoidRootPart
local hrp = char:WaitForChild("HumanoidRootPart")
local RunService = game:GetService("RunService")

local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.ResetOnSpawn = false

-- Label للإحداثيات
local label = Instance.new("TextLabel", gui)
label.Size = UDim2.new(0, 260, 0, 50)
label.Position = UDim2.new(0.5, -130, 0, 10) -- فوق النص
label.TextScaled = true
label.BackgroundTransparency = 0.3
label.BackgroundColor3 = Color3.fromRGB(20,20,20)
label.TextColor3 = Color3.fromRGB(255,255,255)
label.Font = Enum.Font.GothamBold
label.Active = true
label.Draggable = true
label.Text = ""

-- زر النسخ
local copy = Instance.new("TextButton", gui)
copy.Size = UDim2.new(0, 260, 0, 40)
copy.Position = UDim2.new(0.5, -130, 0, 62)
copy.Text = "Copy"
copy.TextScaled = true
copy.BackgroundTransparency = 0.3
copy.BackgroundColor3 = Color3.fromRGB(40,40,40)
copy.TextColor3 = Color3.fromRGB(255,255,255)
copy.Font = Enum.Font.GothamBold
copy.Active = true
copy.Draggable = true

local lastCoord = ""

RunService.RenderStepped:Connect(function()
	if hrp and hrp.Parent ~= nil then
		local pos = hrp.Position
		local x = math.floor(pos.X)
		local y = math.floor(pos.Y)
		local z = math.floor(pos.Z)
		lastCoord = "X:"..x.."  Y:"..y.."  Z:"..z
		label.Text = lastCoord
	end
end)

copy.MouseButton1Click:Connect(function()
	if lastCoord ~= "" then
		setclipboard(lastCoord)
		copy.Text = "Copied!"
		task.delay(1, function()
			copy.Text = "Copy"
		end)
	end
end)
