-- AimBot v1 للجوال
-- LocalScript داخل StarterPlayerScripts

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local camera = workspace.CurrentCamera

local toggle = false -- البداية مغلق
local aimFOV = 100 -- نصف قطر الدائرة
local aimSensitivity = 0.5 -- سرعة التصويب

-- واجهة GUI
local ScreenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))

-- دائرة الهدف
local AimCircle = Instance.new("Frame")
AimCircle.Size = UDim2.new(0, aimFOV, 0, aimFOV)
AimCircle.Position = UDim2.new(0.5, -aimFOV/2, 0.5, -aimFOV/2)
AimCircle.BackgroundTransparency = 0.8
AimCircle.BorderSizePixel = 2
AimCircle.BorderColor3 = Color3.fromRGB(255,0,0)
AimCircle.BackgroundColor3 = Color3.fromRGB(0,0,0)
AimCircle.Parent = ScreenGui

-- زر التفعيل/إيقاف
local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(0,100,0,50)
ToggleButton.Position = UDim2.new(0.9, -50, 0.9, -25)
ToggleButton.Text = "AimBot"
ToggleButton.TextScaled = true
ToggleButton.BackgroundColor3 = Color3.fromRGB(255,0,0)
ToggleButton.TextColor3 = Color3.fromRGB(255,255,255)
ToggleButton.Parent = ScreenGui

ToggleButton.MouseButton1Click:Connect(function()
    toggle = not toggle
    if toggle then
        ToggleButton.BackgroundColor3 = Color3.fromRGB(0,255,0)
    else
        ToggleButton.BackgroundColor3 = Color3.fromRGB(255,0,0)
    end
end)

-- دالة لأقرب لاعب داخل الدائرة
local function getClosestTarget()
    local closestPlayer = nil
    local shortestDistance = aimFOV/2
    for _, target in pairs(Players:GetPlayers()) do
        if target ~= player and target.Character and target.Character:FindFirstChild("Head") then
            local headPos, onScreen = camera:WorldToScreenPoint(target.Character.Head.Position)
            if onScreen then
                local distance = (Vector2.new(headPos.X, headPos.Y) - Vector2.new(camera.ViewportSize.X/2, camera.ViewportSize.Y/2)).Magnitude
                if distance < shortestDistance then
                    shortestDistance = distance
                    closestPlayer = target
                end
            end
        end
    end
    return closestPlayer
end

-- تحديث AimBot
RunService.RenderStepped:Connect(function()
    if toggle then
        local target = getClosestTarget()
        if target and target.Character and target.Character:FindFirstChild("Head") then
            local headPos = target.Character.Head.Position
            local camPos = camera.CFrame.Position
            local direction = (headPos - camPos).Unit
            camera.CFrame = CFrame.new(camPos, camPos + direction * aimSensitivity)
        end
    end
end)
