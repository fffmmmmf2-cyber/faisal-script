-- FollowLight.lua (LocalScript)
-- حطّ هذا الملف في StarterPlayer > StarterPlayerScripts

local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- إعدادات تقدر تعدلها
local LIGHT_NAME = "FollowLight"
local LIGHT_RANGE = 300       -- مدى الإضاءة (كلما زاد، تشوف أبعد)
local LIGHT_BRIGHTNESS = 6    -- شدة الإضاءة (عدّل بين 1-10 عادة)
local LIGHT_COLOR = Color3.fromRGB(255, 244, 214) -- لون النور (دافئ)

local function createLightOnPart(part)
    if not part then return end
    -- لو موجود نور قديم نحذفه ثم نعيد
    local old = part:FindFirstChild(LIGHT_NAME)
    if old then old:Destroy() end

    local light = Instance.new("PointLight")
    light.Name = LIGHT_NAME
    light.Range = LIGHT_RANGE
    light.Brightness = LIGHT_BRIGHTNESS
    light.Color = LIGHT_COLOR
    light.Parent = part
end

local function onCharacter(char)
    -- ننتظر الهومانويد روت بارت (أو أي جزء بديل لو مش موجود)
    local hrp = char:WaitForChild("HumanoidRootPart", 5) or char:FindFirstChildWhichIsA("BasePart")
    createLightOnPart(hrp)
end

-- حدث إعادة الظهور
player.CharacterAdded:Connect(onCharacter)
-- لو الشخصية موجودة بالفعل (سكربت يشتغل بعد الظهور)
if player.Character then
    onCharacter(player.Character)
end
