-- ğŸŒˆ Ø³ÙƒØ±Ø¨Øª ÙÙŠØµÙ„ - ØªØ­Ø¯ÙŠØ¯ Ø£Ù‚Ø±Ø¨ Ù…ÙˆØ¯ÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ ÙˆØªÙ„ÙˆÙŠÙ†Ù‡ Ø¨Ø§Ù„Ø±ÙŠÙ†Ø¨Ùˆ Ø§Ù„Ù†Ø§Ø¹Ù…

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local camera = workspace.CurrentCamera

local SEARCH_RADIUS = 60

-- ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£Ù‚Ø±Ø¨ Ù…ÙˆØ¯ÙŠÙ„
local function findNearestModel()
	local char = player.Character or player.CharacterAdded:Wait()
	local root = char:WaitForChild("HumanoidRootPart")

	local nearest, nearestDist
	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("Model") and obj.PrimaryPart and obj ~= char then
			local dist = (obj.PrimaryPart.Position - root.Position).Magnitude
			if dist <= SEARCH_RADIUS and (not nearestDist or dist < nearestDist) then
				nearest = obj
				nearestDist = dist
			end
		end
	end
	return nearest
end

-- ğŸŒˆ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø±ÙŠÙ†Ø¨Ùˆ Ø§Ù„Ù†Ø§Ø¹Ù…
local function StartRainbow(model)
	task.spawn(function()
		local hue = 0
		while model and model.Parent do
			hue = (hue + 0.002) % 1
			local color = Color3.fromHSV(hue, 1, 1)
			for _, part in ipairs(model:GetDescendants()) do
				if part:IsA("BasePart") then
					TweenService:Create(part, TweenInfo.new(0.2, Enum.EasingStyle.Linear), {Color = color}):Play()
				end
			end
			task.wait(0.05)
		end
	end)
end

-- ğŸš€ Ø£ÙˆÙ„ Ù…Ø§ ÙŠØ±Ø³Ø¨Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨
player.CharacterAdded:Connect(function(char)
	task.wait(2) -- Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø³ÙŠØ· Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙƒØ±
	local model = findNearestModel()
	if model then
		StartRainbow(model)
	end
end)
