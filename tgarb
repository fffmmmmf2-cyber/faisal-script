local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

local function getClosestModel()
	local closestModel = nil
	local shortestDistance = math.huge

	for _, model in ipairs(workspace:GetChildren()) do
		if model:IsA("Model") and model ~= character and model:FindFirstChildWhichIsA("BasePart") then
			local part = model:FindFirstChildWhichIsA("BasePart")
			local distance = (hrp.Position - part.Position).Magnitude
			if distance < shortestDistance then
				shortestDistance = distance
				closestModel = model
			end
		end
	end

	return closestModel
end

local function applyRainbow(model)
	task.spawn(function()
		while model and model.Parent do
			local t = tick() % 5 / 5
			local color = Color3.fromHSV(t, 1, 1)
			for _, part in ipairs(model:GetDescendants()) do
				if part:IsA("BasePart") then
					part.Color = color
				end
			end
			task.wait(0.05)
		end
	end)
end

-- بعد ما يرسبن اللاعب
task.wait(1)
local closest = getClosestModel()
if closest then
	applyRainbow(closest)
end
