-- â›”ï¸ ØµÙ†Ø¹ Ø¨ÙˆØ§Ø³Ø·Ø© ÙÙŠØµÙ„ Ùˆ GPT-5
-- ğŸŸ¥ ÙŠØ­Ø¯Ø¯ Ø£Ù‚Ø±Ø¨ Ù…ÙˆØ¯ÙŠÙ„ ÙˆÙŠØ¹Ø·ÙŠÙ‡ ØªØ£Ø«ÙŠØ± Ø±ÙŠÙ†Ø¨Ùˆ Ù†Ø§Ø¹Ù… Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± "ØªØ­Ø¯ÙŠØ¯"

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local camera = workspace.CurrentCamera

local SEARCH_RADIUS = 60
local LINE_THICKNESS = 0.5
local LINE_COLOR = Color3.fromRGB(255, 0, 0)
local FOLDER_NAME = "LocalBorderLines"

-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¹Ø±Ø¶
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "ModelSelector"

-- ÙØ±ÙŠÙ… Ø®Ù„ÙÙŠ
local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 200, 0, 100)
frame.Position = UDim2.new(1, -210, 0.5, -50)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BackgroundTransparency = 0.3
frame.BorderSizePixel = 0
frame.Visible = true

-- Ù†Øµ Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„
local label = Instance.new("TextLabel", frame)
label.Size = UDim2.new(1, 0, 0.5, 0)
label.BackgroundTransparency = 1
label.TextColor3 = Color3.fromRGB(255, 0, 0)
label.Font = Enum.Font.SourceSansBold
label.TextScaled = true
label.Text = "Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„: ---"

-- Ø²Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ¯
local selectButton = Instance.new("TextButton", frame)
selectButton.Size = UDim2.new(1, 0, 0.5, 0)
selectButton.Position = UDim2.new(0, 0, 0.5, 0)
selectButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
selectButton.TextColor3 = Color3.fromRGB(255, 255, 255)
selectButton.Font = Enum.Font.SourceSansBold
selectButton.TextScaled = true
selectButton.Text = "ØªØ­Ø¯ÙŠØ¯"

-------------------------------------------------
-- ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£Ù‚Ø±Ø¨ Ù…ÙˆØ¯ÙŠÙ„
-------------------------------------------------
local function findNearestModel()
	local char = player.Character
	local root = char and char:FindFirstChild("HumanoidRootPart")
	if not root then return end

	local nearest, nearestDist
	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("Model") and obj.PrimaryPart and obj ~= char then
			local dist = (obj.PrimaryPart.Position - root.Position).Magnitude
			if dist <= SEARCH_RADIUS and (not nearestDist or dist < nearestDist) then
				nearest = obj
				nearestDist = dist
			end
		end
	end
	return nearest
end

-------------------------------------------------
-- ğŸŒˆ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø±ÙŠÙ†Ø¨Ùˆ Ø§Ù„Ù†Ø§Ø¹Ù…
-------------------------------------------------
local function StartRainbow(model)
	task.spawn(function()
		local hue = 0
		while model and model.Parent do
			hue = (hue + 0.002) % 1
			local color = Color3.fromHSV(hue, 1, 1)
			for _, part in ipairs(model:GetDescendants()) do
				if part:IsA("BasePart") then
					TweenService:Create(part, TweenInfo.new(0.2, Enum.EasingStyle.Linear), {Color = color}):Play()
				end
			end
			task.wait(0.05)
		end
	end)
end

-------------------------------------------------
-- ğŸ“Œ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ¯
-------------------------------------------------
selectButton.MouseButton1Click:Connect(function()
	local target = findNearestModel()
	if target then
		label.Text = "Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„: " .. target.Name
		selectButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
		task.wait(0.2)
		selectButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
		StartRainbow(target)
	end
end)
