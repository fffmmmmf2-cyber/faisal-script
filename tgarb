local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

-- دالة لإخفاء جميع الواجهات
local function hideAllGUIs()
	for _, gui in ipairs(playerGui:GetChildren()) do
		if gui:IsA("ScreenGui") then
			gui.Enabled = false
		end
	end
end

-- دالة لإيجاد أقرب موديل للاعب
local function getClosestModel(maxDistance)
	local closestModel = nil
	local shortestDistance = maxDistance or 30

	for _, model in ipairs(workspace:GetChildren()) do
		if model:IsA("Model") and model ~= character and model:FindFirstChildWhichIsA("BasePart") then
			local part = model:FindFirstChildWhichIsA("BasePart")
			local distance = (hrp.Position - part.Position).Magnitude
			if distance < shortestDistance then
				shortestDistance = distance
				closestModel = model
			end
		end
	end

	return closestModel
end

-- دالة لتطبيق الرينبو الناعم
local function applyRainbow(model)
	task.spawn(function()
		while model and model.Parent do
			local t = tick() % 5 / 5
			local color = Color3.fromHSV(t, 1, 1)
			for _, part in ipairs(model:GetDescendants()) do
				if part:IsA("BasePart") then
					part.Color = color
				end
			end
			task.wait(0.05)
		end
	end)
end

-- بعد ما يرسبن اللاعب
task.wait(1)

local closest = getClosestModel(30)
if closest then
	hideAllGUIs()
	applyRainbow(closest)
end
