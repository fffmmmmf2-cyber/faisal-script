local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- شاشة نعرض فيها الأسماء
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GuiNames"
screenGui.Parent = playerGui

-- دالة تضيف اسم فوق أي عنصر GUI
local function addName(gui)
	if not gui:IsA("GuiObject") then return end
	if screenGui:FindFirstChild("Name_" .. gui.Name) then return end

	local label = Instance.new("TextLabel")
	label.Name = "Name_" .. gui.Name
	label.Size = UDim2.new(0, gui.AbsoluteSize.X, 0, gui.AbsoluteSize.Y)
	label.Position = UDim2.fromOffset(gui.AbsolutePosition.X, gui.AbsolutePosition.Y)
	label.BackgroundTransparency = 1
	label.Text = gui.Name
	label.TextColor3 = Color3.fromRGB(0, 255, 0)
	label.Font = Enum.Font.SourceSansBold
	label.TextScaled = true
	label.ZIndex = 9999 -- فوق كل شيء
	label.Parent = screenGui

	-- يتحدث مكان الاسم إذا العنصر تحرك أو تغير حجمه
	gui:GetPropertyChangedSignal("AbsolutePosition"):Connect(function()
		label.Position = UDim2.fromOffset(gui.AbsolutePosition.X, gui.AbsolutePosition.Y)
	end)
	gui:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()
		label.Size = UDim2.new(0, gui.AbsoluteSize.X, 0, gui.AbsoluteSize.Y)
	end)
end

-- نضيف كل العناصر الموجودة
local function scan(guiParent)
	for _, gui in ipairs(guiParent:GetDescendants()) do
		if gui:IsA("GuiObject") then
			addName(gui)
		end
	end
end

scan(playerGui)

-- أي عنصر جديد يضاف
playerGui.DescendantAdded:Connect(function(gui)
	if gui:IsA("GuiObject") then
		addName(gui)
	end
end)
