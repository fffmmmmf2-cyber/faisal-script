-- LocalScript

local function addBillboard(part)
	if part:IsA("BasePart") then
		-- لو فيه BillboardGui قديم نحذفه
		if part:FindFirstChild("PartNameBillboard") then
			part.PartNameBillboard:Destroy()
		end

		local billboard = Instance.new("BillboardGui")
		billboard.Name = "PartNameBillboard"
		billboard.Adornee = part
		billboard.Size = UDim2.new(0, 100, 0, 20)
		billboard.StudsOffset = Vector3.new(0, part.Size.Y + 0.5, 0)
		billboard.AlwaysOnTop = true
		billboard.Parent = part

		local textLabel = Instance.new("TextLabel")
		textLabel.Size = UDim2.new(1, 0, 1, 0)
		textLabel.BackgroundTransparency = 1
		textLabel.Text = part.Name
		textLabel.TextScaled = true
		textLabel.TextColor3 = Color3.new(1, 1, 1)
		textLabel.Font = Enum.Font.SourceSansBold
		textLabel.TextStrokeTransparency = 0.5
		textLabel.TextSize = 8 -- حجم صغير
		textLabel.Parent = billboard
	end
end

-- نضيف للبارتات اللي موجودة
for _, part in ipairs(workspace:GetDescendants()) do
	addBillboard(part)
end

-- نضيف لأي بارت جديد يدخل للـ Workspace
workspace.DescendantAdded:Connect(function(obj)
	addBillboard(obj)
end)
