local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- جمع كل عناصر GUI المصممة من الماب
local guis = {}
for _, obj in ipairs(playerGui:GetDescendants()) do
    if obj:IsA("GuiObject") and obj:FindFirstAncestorWhichIsA("ScreenGui") and obj:FindFirstAncestorWhichIsA("ScreenGui").Parent == playerGui then
        table.insert(guis, obj)
    end
end

-- دالة تضيف لابل تحت العنصر
local function createLabel(guiObject)
    local label = Instance.new("TextLabel")
    label.Name = "GuiNameLabel"
    label.Text = guiObject.Name
    label.Font = Enum.Font.SourceSans
    label.TextSize = 14
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.BackgroundTransparency = 1
    label.Size = UDim2.new(1, 0, 0, 14)
    label.Position = UDim2.new(0, 0, 1, 0)
    label.ZIndex = guiObject.ZIndex + 1
    label.Parent = guiObject
    return label
end

-- تبدأ الحلقة
spawn(function()
    local index = 1
    while true do
        local labels = {}
        -- نعرض 3 أسماء
        for i = 1, 3 do
            local gui = guis[index]
            if gui then
                table.insert(labels, createLabel(gui))
            end
            index = index + 1
            if index > #guis then
                index = 1 -- يرجع للبداية
            end
        end
        wait(2)
        -- نخفي الأسماء
        for _, label in ipairs(labels) do
            label:Destroy()
        end
    end
end)
