local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")
local playerGui = player:WaitForChild("PlayerGui")

-- دالة تتحقق إذا الاسم رقم بين 10 و1000
local function isBall(part)
	local num = tonumber(part.Name)
	if not num then return false end
	return num >= 10 and num <= 1000
end

-- إنشاء Frame قابل للتحريك
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = playerGui

local autoButton = Instance.new("TextButton")
autoButton.Size = UDim2.new(0, 50, 0, 50)
autoButton.Position = UDim2.new(0.5, -25, 0.5, -25) -- البداية بالوسط
autoButton.BackgroundColor3 = Color3.fromRGB(0, 0, 255)
autoButton.Text = "Auto"
autoButton.TextColor3 = Color3.new(1,1,1)
autoButton.Parent = screenGui

-- نجعل الـFrame قابل للسحب
local dragging = false
local dragInput, mousePos, framePos

autoButton.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		mousePos = input.Position
		framePos = autoButton.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

autoButton.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		local delta = input.Position - mousePos
		autoButton.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X,
										framePos.Y.Scale, framePos.Y.Offset + delta.Y)
	end
end)

-- دالة تضغط Frame تلقائي (simulate click)
local function pressAutoButton()
	autoButton:Activate()
end

-- الفحص المستمر للكورة
task.spawn(function()
	while true do
		local isClose = false
		for _, part in ipairs(Workspace:GetDescendants()) do
			if part:IsA("BasePart") and isBall(part) then
				local distance = (part.Position - hrp.Position).Magnitude
				if distance <= 30 then
					isClose = true
					break
				end
			end
		end
		if isClose then
			pressAutoButton()
		end
		task.wait(0.02)
	end
end)
