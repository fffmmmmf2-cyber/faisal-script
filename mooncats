-- Pet Script Finder GUI
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- إنشاء GUI كامل الشاشة
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "PetScriptFinder"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = playerGui

local Background = Instance.new("Frame")
Background.Size = UDim2.fromScale(1,1)
Background.Position = UDim2.fromScale(0,0)
Background.BackgroundColor3 = Color3.fromRGB(20,20,20)
Background.BackgroundTransparency = 0.2
Background.Parent = ScreenGui

local Scroll = Instance.new("ScrollingFrame")
Scroll.Size = UDim2.fromScale(1,1)
Scroll.Position = UDim2.fromScale(0,0)
Scroll.CanvasSize = UDim2.new(0,0,0,0)
Scroll.ScrollBarThickness = 10
Scroll.BackgroundTransparency = 1
Scroll.Parent = Background

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = Scroll
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0,5)

-- وظيفة لتحديث CanvasSize تلقائيًا
UIListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
    Scroll.CanvasSize = UDim2.new(0,0,0,UIListLayout.AbsoluteContentSize.Y)
end)

-- البحث في كل السكربتات
local function FindPetScripts()
    local containers = {workspace, ReplicatedStorage, player.PlayerScripts, game:GetService("ServerScriptService")}
    local foundScripts = {}

    for _, container in pairs(containers) do
        for _, obj in pairs(container:GetDescendants()) do
            if obj:IsA("ModuleScript") or obj:IsA("Script") or obj:IsA("LocalScript") then
                local isPet = false
                if string.find(obj.Name, "[Pp][Ee][Tt]") then
                    isPet = true
                else
                    local success, content = pcall(function() return obj.Source end)
                    if success and content and string.find(content, "[Pp][Ee][Tt]") then
                        isPet = true
                    end
                end

                if isPet then
                    table.insert(foundScripts, obj:GetFullName())
                end
            end
        end
    end

    -- ترتيب السكربتات أبجديًا
    table.sort(foundScripts)

    -- عرضها داخل السكرول
    for _, name in pairs(foundScripts) do
        local TextLabel = Instance.new("TextLabel")
        TextLabel.Size = UDim2.new(1,0,0,30)
        TextLabel.Text = name
        TextLabel.TextColor3 = Color3.fromRGB(255,255,255)
        TextLabel.BackgroundColor3 = Color3.fromRGB(40,40,40)
        TextLabel.BackgroundTransparency = 0.1
        TextLabel.TextScaled = true
        TextLabel.Parent = Scroll
    end
end

FindPetScripts()
