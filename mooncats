local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local Players = game:GetService("Players")

local ActivePetsService = require(game.ReplicatedStorage.Modules.PetServices.ActivePetsService)
local petAreaPart = Workspace:WaitForChild("PetArea") -- البارت اللي تبي الحيوانات تتجمع فيه
local offsetY = 3 -- ارتفاع عن الأرض عشان الحيوانات ما تغوص

RunService.RenderStepped:Connect(function()
    -- لكل اللاعبين في اللعبة
    for _, player in pairs(Players:GetPlayers()) do
        local clientPets = ActivePetsService:GetClientPetState(player.Name)
        for _, petData in clientPets do
            if petData.Asset then
                local pet = petData.Asset
                -- تثبيت الموقع في منتصف البارت
                local targetCFrame = CFrame.new(petAreaPart.Position.X, petAreaPart.Position.Y + offsetY, petAreaPart.Position.Z)
                pet:PivotTo(targetCFrame)
            end
        end
    end
end)
